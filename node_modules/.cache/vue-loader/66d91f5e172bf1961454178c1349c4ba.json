{"remainingRequest":"D:\\vue_pro\\mila-admin3\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\vue_pro\\mila-admin3\\src\\components\\Article\\add.vue?vue&type=style&index=0&id=829f9bf0&lang=css","dependencies":[{"path":"D:\\vue_pro\\mila-admin3\\src\\components\\Article\\add.vue","mtime":1619602857587},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1616796459000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJLmF2YXRhci11cGxvYWRlciAuZWwtdXBsb2FkIHsNCgkJYm9yZGVyOiAxcHggZGFzaGVkICNkOWQ5ZDk7DQoJCWJvcmRlci1yYWRpdXM6IDZweDsNCgkJY3Vyc29yOiBwb2ludGVyOw0KCQlwb3NpdGlvbjogcmVsYXRpdmU7DQoJCW92ZXJmbG93OiBoaWRkZW47DQoJfQ0KDQoJLmF2YXRhci11cGxvYWRlciAuZWwtdXBsb2FkOmhvdmVyIHsNCgkJYm9yZGVyLWNvbG9yOiAjNDA5RUZGOw0KCX0NCg0KCS5hdmF0YXItdXBsb2FkZXItaWNvbiB7DQoJCWZvbnQtc2l6ZTogMjhweDsNCgkJY29sb3I6ICM4YzkzOWQ7DQoJCXdpZHRoOiAxNzhweDsNCgkJaGVpZ2h0OiAxNzhweDsNCgkJbGluZS1oZWlnaHQ6IDE3OHB4Ow0KCQl0ZXh0LWFsaWduOiBjZW50ZXI7DQoJfQ0KDQoJLmF2YXRhciB7DQoJCXdpZHRoOiAxNzhweDsNCgkJaGVpZ2h0OiAxNzhweDsNCgkJZGlzcGxheTogYmxvY2s7DQoJfQ0KDQoJI2VkaXRvci1pZCB7DQoNCgkJbGluZS1oZWlnaHQ6IDE7DQoNCgl9DQo="},{"version":3,"sources":["D:\\vue_pro\\mila-admin3\\src\\components\\Article\\add.vue"],"names":[],"mappings":";CA0JC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CACjB;;CAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACjC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CACtB;;CAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CACnB;;CAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACP,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;CACf;;CAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;;EAEV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;;CAEf","file":"D:/vue_pro/mila-admin3/src/components/Article/add.vue","sourceRoot":"","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-form ref=\"form\" :model=\"article\" label-width=\"80px\">\r\n\t\t\t<div style=\"width: 60%;float: left;box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)\">\r\n\t\t\t\t<el-form-item label=\"所属栏目\">\r\n\t\t\t\t\t<el-select v-model=\"article.categorys\" placeholder=\"选择文章所属栏目\">\r\n\t\t\t\t\t\t<el-option v-for=\"art in category\" :key=\"art.id\" :label=\"art.name\" :value=\"art.id\" v-html=\"art.name\">\r\n\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"标题\">\r\n\t\t\t\t\t<el-input v-model=\"article.title\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"关键词\">\r\n\t\t\t\t\t<el-input v-model=\"article.keywords\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"描述\">\r\n\t\t\t\t\t<el-input v-model=\"article.desc\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"内容\">\r\n\t\t\t\t\t<vue-ueditor-wrap v-model=\"content\" :config=\"myConfig\" editor-id=\"editor-id\"></vue-ueditor-wrap>\r\n\t\t\t\t</el-form-item>\r\n\r\n\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tstyle=\"width: 38%;float: right;margin-left:2%;box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)\">\r\n\r\n\r\n\t\t\t\t<el-form-item label=\"缩略图\">\r\n\t\t\t\t\t<el-upload class=\"avatar-uploader\" action=\"/api/admin/upload/elementUploadImg\"\r\n\t\t\t\t\t\t:show-file-list=\"false\" :on-success=\"handleAvatarSuccess\" :before-upload=\"beforeAvatarUpload\">\r\n\t\t\t\t\t\t<img v-if=\"article.img\" :src=\"article.img\" class=\"avatar\">\r\n\t\t\t\t\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n\t\t\t\t\t</el-upload>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item>\r\n\r\n\t\t\t\t\t<el-button>取消</el-button>\r\n\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"onSubmit\">立即创建</el-button>\r\n\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</div>\r\n\t\t</el-form>\r\n\r\n\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {ElMessage} from 'element-plus';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tarticle: {\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\timg: '',\r\n\t\t\t\t\tkeywords: '',\r\n\t\t\t\t\tdesc: '',\r\n\t\t\t\t\tcategorys: '',\r\n\r\n\t\t\t\t},\r\n\t\t\t\tcategory: [],\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tmyConfig: {\r\n\t\t\t\t\t// 编辑器不自动被内容撑高\r\n\t\t\t\t\tautoHeightEnabled: false,\r\n\t\t\t\t\t// 初始容器高度\r\n\t\t\t\t\tinitialFrameHeight: 340,\r\n\t\t\t\t\t// 初始容器宽度\r\n\t\t\t\t\tinitialFrameWidth: '100%',\r\n\t\t\t\t\tUEDITOR_HOME_URL: '/UEditor/',\r\n\t\t\t\t\tserverUrl: '/api/admin/upload/ueditorUpload'\r\n\t\t\t\t},\r\n\t\t\t\timgUrl:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonSubmit() {\r\n\t\t\t\t\r\n\t\t\t\tthis.$axios.post('/api/admin/article/add',{\r\n\t\t\t\t\ttitle:this.article.title,\r\n\t\t\t\t\timg:this.imgUrl,\r\n\t\t\t\t\tkeyword:this.article.keywords,\r\n\t\t\t\t\tdesc:this.article.desc,\r\n\t\t\t\t\tcategory_id:this.article.categorys,\r\n\t\t\t\t\tcontent:this.content,\r\n\t\t\t\t}).then(re => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(re.data.code == 1){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tElMessage.success('添加文章成功');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.$router.push({name:\"articleList\"});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t},\r\n\t\t\t//图片上传成功，传回路径\r\n\t\t\thandleAvatarSuccess(res) {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.imgUrl = res.data.img_url;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.article.img = this.imgUrl;\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tbeforeAvatarUpload(file) {\r\n\t\t\t\tconst isType1 = file.type === 'image/png' || 'image/jpg' || 'image/jif' || 'image/pjpeg' || 'image/bmp' || 'image/x-png';\r\n\t\t\t\tconst isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n\t\t\t\tif (!isType1) {\r\n\t\t\t\t\tthis.$message.error('图片格式不正确!');\r\n\t\t\t\t}\r\n\t\t\t\tif (!isLt2M) {\r\n\t\t\t\t\tthis.$message.error('图片大小不能超过 2MB!');\r\n\t\t\t\t}\r\n\t\t\t\treturn isType1 && isLt2M;\r\n\t\t\t},\r\n\t\t\t//获取栏目列表\r\n\t\t\tgetCategory(){\r\n\t\t\t\t\r\n\t\t\t\tthis.$axios.post('/api/admin/category/categorys')\r\n\t\t\t\t.then(re => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(re.data.code === 1){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.category = re.data.data;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t\r\n\t\t\tthis.getCategory();\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.avatar-uploader .el-upload {\r\n\t\tborder: 1px dashed #d9d9d9;\r\n\t\tborder-radius: 6px;\r\n\t\tcursor: pointer;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.avatar-uploader .el-upload:hover {\r\n\t\tborder-color: #409EFF;\r\n\t}\r\n\r\n\t.avatar-uploader-icon {\r\n\t\tfont-size: 28px;\r\n\t\tcolor: #8c939d;\r\n\t\twidth: 178px;\r\n\t\theight: 178px;\r\n\t\tline-height: 178px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.avatar {\r\n\t\twidth: 178px;\r\n\t\theight: 178px;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t#editor-id {\r\n\r\n\t\tline-height: 1;\r\n\r\n\t}\r\n</style>\n"]}]}