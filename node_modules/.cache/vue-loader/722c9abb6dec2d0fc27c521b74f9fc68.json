{"remainingRequest":"D:\\vue_pro\\mila-admin3\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\vue_pro\\mila-admin3\\src\\components\\Admin\\list.vue?vue&type=style&index=0&id=4e27f28e&scoped=true&lang=css","dependencies":[{"path":"D:\\vue_pro\\mila-admin3\\src\\components\\Admin\\list.vue","mtime":1619084368364},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1616796459000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJLmRlbW8tZm9ybS1pbmxpbmUgew0KCQlmbG9hdDogcmlnaHQ7DQoJfQ0K"},{"version":3,"sources":["D:\\vue_pro\\mila-admin3\\src\\components\\Admin\\list.vue"],"names":[],"mappings":";CA4IC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACjB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;CACb","file":"D:/vue_pro/mila-admin3/src/components/Admin/list.vue","sourceRoot":"","sourcesContent":["<template>\r\n\r\n\t<div>\r\n\r\n\t\t<el-button type=\"primary\" @click=\"addAdmin\">新增管理员</el-button>\r\n\t\t<el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\r\n\t\t\t<el-form-item label=\"\">\r\n\t\t\t\t<el-input placeholder=\"请输入内容\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"onSubmit\">查询</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t\t<el-table :data=\"tableData.slice((currentPage-1)*PageSize,currentPage*PageSize)\" stripe style=\"width: 100%\">\r\n\t\t\t<el-table-column prop=\"id\" label=\"ID\" width=\"120\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"username\" label=\"用户名\" width=\"120\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"status\" label=\"状态\" width=\"120\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"role\" label=\"角色\" width=\"120\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"nickname\" label=\"昵称\" width=\"120\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"created_at\" label=\"创建时间\" width=\"200\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"last_login_time\" label=\"上次登陆时间\" width=\"200\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"操作\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button size=\"small\" type=\"primary\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n\t\t\t\t\t<el-button size=\"small\" type=\"warning\" @click=\"handleDisable(scope.$index, scope.row)\">禁用\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t\t<el-button size=\"small\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\t\t<el-pagination\r\n\t\t      @size-change=\"handleSizeChange\"\r\n\t\t      @current-change=\"handleCurrentChange\"\r\n\t\t      :current-page=\"currentPage\"\r\n\t\t      :page-sizes=\"pageSizes\"\r\n\t\t      :page-size=\"PageSize\"\r\n\t\t      layout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t      :total=\"totalCount\"\r\n\t\t\t  background>\r\n\t\t    </el-pagination>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport Axios from 'axios'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttableData: [{\r\n\t\t\t\t\t// id: '1',\r\n\t\t\t\t\t// username: '王小虎',\r\n\t\t\t\t\t// status: '1',\r\n\t\t\t\t\t// role: '管理员',\r\n\t\t\t\t\t// nick_name: '小虎',\r\n\t\t\t\t\t// created_at: '2016-05-04',\r\n\t\t\t\t\t// last_login_time: '2016-05-04'\r\n\t\t\t\t}, ],\r\n\t\t\t\tformInline: {\r\n\t\t\t\t\tinput: '',\r\n\t\t\t\t},\r\n\t\t\t\t// 默认显示第几页\r\n\t\t\t   currentPage:1,\r\n\t\t\t   // 总条数，根据接口获取数据长度(注意：这里不能为空)\r\n\t\t\t   totalCount:0,\r\n\t\t\t   // 个数选择器（可修改）\r\n\t\t\t   pageSizes:[10,20,30,40],\r\n\t\t\t   // 默认每页显示的条数（可修改）\r\n\t\t\t   PageSize:10,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetAdmins(){\r\n\t\t\t\t\r\n\t\t\t\tthis.$http.get('http://tests.com/admin/admin/lists').then((response) => {\r\n\t\t\t\t\tconsole.log(response.data)\r\n\t\t\t\t\tthis.tableData = response.data\r\n\t\t\t\t\tthis.totalCount = response.data[0]['total']\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\taddAdmin(){\r\n\t\t\t\tthis.$router.push({name:'AddAdmin'})\r\n\t\t\t},\r\n\t\t\t// 每页显示的条数\r\n\t\t   handleSizeChange(val) {\r\n\t\t\t   // 改变每页显示的条数 \r\n\t\t\t   this.PageSize=val\r\n\t\t\t   // 注意：在改变每页显示的条数时，要将页码显示到第一页\r\n\t\t\t   this.currentPage=1\r\n\t\t   },\r\n\t\t\t // 显示第几页\r\n\t\t   handleCurrentChange(val) {\r\n\t\t\t   // 改变默认的页数\r\n\t\t\t   this.currentPage=val\r\n\t\t   },\r\n\t\t   //编辑\r\n\t\t\thandleEdit(index, row) {\r\n\t\t\t\tconsole.log(index, row);\r\n\t\t\t\tthis.$router.push({name:'UpdateAdmin',params: { id: row.id,username:row.username,nickname:row.nickname,password:row.password,role:row.id }})\r\n\t\t\t},\r\n\t\t\thandleDisable(index, row) {\r\n\t\t\t\tconsole.log(index, row);\r\n\t\t\t},\r\n\t\t\t//删除\r\n\t\t\thandleDelete(index, row) {\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(row.id);\r\n\t\t\t\t\r\n\t\t\t\tAxios.post('/api/admin/admin/delete', {\r\n\t\t\t\t\t\tid:row.id\r\n\t\t\t\t  })\r\n\t\t\t\t  .then(function (response) {\r\n\t\t\t\t    console.log(response);\r\n\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t\r\n\t\t\t\t  })\r\n\t\t\t\t  .catch(function (error) {\r\n\t\t\t\t    console.log(error);\r\n\t\t\t\t  });\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tonSubmit() {\r\n\t\t\t\tconsole.log('submit!');\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.getAdmins();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.demo-form-inline {\r\n\t\tfloat: right;\r\n\t}\r\n</style>\n"]}]}