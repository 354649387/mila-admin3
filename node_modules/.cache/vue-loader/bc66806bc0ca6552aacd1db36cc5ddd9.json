{"remainingRequest":"D:\\vue_pro\\mila-admin3\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\vue_pro\\mila-admin3\\src\\components\\Role\\edit.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\vue_pro\\mila-admin3\\src\\components\\Role\\edit.vue","mtime":1619081219287},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoJZXhwb3J0IGRlZmF1bHQgew0KCQlkYXRhKCkgew0KCQkJcmV0dXJuIHsNCgkJCQlmb3JtOiB7DQoJCQkJCWlkOicnLA0KCQkJCQluYW1lOiAnJywNCgkJCQl9LA0KCQkJCXJ1bGVzOltdLA0KCQkJCWNoZWNrTGlzdDogW10sCQkJCQ0KCQkJfQ0KCQl9LA0KCQltZXRob2RzOiB7DQoJCQlvblN1Ym1pdCgpIHsNCgkJCQkNCgkJCQkNCgkJCQljb25zb2xlLmxvZyh0aGlzLmNoZWNrTGlzdCkNCgkJCQkNCgkJCQlsZXQgcm9sZUlkID0gdGhpcy5mb3JtLmlkOw0KCQkJCWxldCBuYW1lID0gdGhpcy5mb3JtLm5hbWU7DQoJCQkJLy/ovazmiJDlrZfnrKbkuLINCgkJCQlsZXQgcnVsZUlkID0gdGhpcy5jaGVja0xpc3QudG9TdHJpbmcoKTsNCgkJCQkNCgkJCQkNCgkJCQkJCQkNCgkJCQl0aGlzLiRheGlvcy5wb3N0KCcvYXBpL2FkbWluL3JvbGUvZWRpdCcsew0KCQkJCQlyb2xlSWQ6cm9sZUlkLA0KCQkJCQluYW1lOm5hbWUsDQoJCQkJCXJ1bGVJZDpydWxlSWQNCgkJCQkJDQoJCQkJfSkudGhlbihyZXMgPT4gew0KCQkJCQkNCgkJCQkJaWYocmVzLmRhdGEuY29kZSA9PSAxKXsNCgkJCQkJCQ0KCQkJCQkJdGhpcy4kcm91dGVyLnB1c2goe25hbWU6InJvbGVMaXN0In0pOw0KCQkJCQkJDQoJCQkJCX0NCgkJCQkJDQoJCQkJfSk7DQoNCg0KCQkJfSwNCgkJCS8v6YCa6L+H6KeS6ImyaWTojrflj5bmiYDlsZ7nmoTot6/nlLHmj4/ov7ANCgkJCWdldFJ1bGVEZXNjQnlSb2xlSWQoKXsNCgkJCQkNCgkJCQl0aGlzLiRheGlvcy5wb3N0KCcvYXBpL2FkbWluL3JvbGUvZ2V0UnVsZURlc2NCeVJvbGVJZCcsew0KCQkJCQkNCgkJCQkJcm9sZUlkOnRoaXMuZm9ybS5pZA0KCQkJCQkNCgkJCQl9KS50aGVuKHJlcyA9PiB7DQoJCQkJCQ0KCQkJCQljb25zb2xlLmxvZyhyZXMuZGF0YS5kYXRhKTsNCgkJCQkJDQoJCQkJCXRoaXMuY2hlY2tMaXN0ID0gcmVzLmRhdGEuZGF0YTsNCgkJCQkJDQoJCQkJfSk7DQoJCQkJDQoJCQl9LA0KCQkJLy/ojrflj5bmiYDmnInot6/nlLHkv6Hmga8NCgkJCWdldFJ1bGUoKSB7DQoJCQkNCgkJCQl0aGlzLiRheGlvcy5wb3N0KCcvYXBpL2FkbWluL3JvbGUvZ2V0UnVsZScpDQoJCQkJCS50aGVuKHJlID0+IHsNCgkJCQ0KCQkJCQkJdGhpcy5ydWxlcyA9IHJlLmRhdGEuZGF0YTsNCgkJCQ0KCQkJCQl9KQ0KCQkJDQoJCQl9DQoNCg0KCQl9LA0KCQljcmVhdGVkKCkgew0KDQoJCQlsZXQgcm9sZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5Ow0KCQkJDQoJCQl0aGlzLmZvcm0uaWQgPSByb2xlLmlkOw0KCQkJdGhpcy5mb3JtLm5hbWUgPSByb2xlLm5hbWU7DQoNCgkJCXRoaXMuZ2V0UnVsZSgpOw0KDQoJCQl0aGlzLmdldFJ1bGVEZXNjQnlSb2xlSWQoKTsNCgkJfQ0KCX0NCg=="},{"version":3,"sources":["D:\\vue_pro\\mila-admin3\\src\\components\\Role\\edit.vue"],"names":[],"mappings":"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","file":"D:/vue_pro/mila-admin3/src/components/Role/edit.vue","sourceRoot":"","sourcesContent":["<template>\r\n\t<el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n\t\t<div style=\"width:20%\">\r\n\t\t\t<el-form-item label=\"角色名称\">\r\n\t\t\t\t<el-input v-model=\"form.name\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t</div>\r\n\r\n\t\t<el-form-item label=\"路由权限\">\r\n\t\t\t<el-checkbox-group v-model=\"checkList\">\r\n\r\n\t\t\t\t<el-checkbox v-for=\"(rule,index) in rules\" :label=\"rule.desc\" name=\"checkList\" :key=\"index\">{{ rule.desc }}\r\n\t\t\t\t</el-checkbox>\r\n\r\n\t\t\t</el-checkbox-group>\r\n\t\t</el-form-item>\r\n\r\n\t\t<el-form-item>\r\n\t\t\t<el-button type=\"primary\" @click=\"onSubmit\">立即提交</el-button>\r\n\t\t\t<el-button>取消</el-button>\r\n\t\t</el-form-item>\r\n\t</el-form>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t\tid:'',\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t},\r\n\t\t\t\trules:[],\r\n\t\t\t\tcheckList: [],\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonSubmit() {\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(this.checkList)\r\n\t\t\t\t\r\n\t\t\t\tlet roleId = this.form.id;\r\n\t\t\t\tlet name = this.form.name;\r\n\t\t\t\t//转成字符串\r\n\t\t\t\tlet ruleId = this.checkList.toString();\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\tthis.$axios.post('/api/admin/role/edit',{\r\n\t\t\t\t\troleId:roleId,\r\n\t\t\t\t\tname:name,\r\n\t\t\t\t\truleId:ruleId\r\n\t\t\t\t\t\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(res.data.code == 1){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.$router.push({name:\"roleList\"});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t},\r\n\t\t\t//通过角色id获取所属的路由描述\r\n\t\t\tgetRuleDescByRoleId(){\r\n\t\t\t\t\r\n\t\t\t\tthis.$axios.post('/api/admin/role/getRuleDescByRoleId',{\r\n\t\t\t\t\t\r\n\t\t\t\t\troleId:this.form.id\r\n\t\t\t\t\t\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(res.data.data);\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.checkList = res.data.data;\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//获取所有路由信息\r\n\t\t\tgetRule() {\r\n\t\t\t\r\n\t\t\t\tthis.$axios.post('/api/admin/role/getRule')\r\n\t\t\t\t\t.then(re => {\r\n\t\t\t\r\n\t\t\t\t\t\tthis.rules = re.data.data;\r\n\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\r\n\t\t\t}\r\n\r\n\r\n\t\t},\r\n\t\tcreated() {\r\n\r\n\t\t\tlet role = this.$route.query;\r\n\t\t\t\r\n\t\t\tthis.form.id = role.id;\r\n\t\t\tthis.form.name = role.name;\r\n\r\n\t\t\tthis.getRule();\r\n\r\n\t\t\tthis.getRuleDescByRoleId();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n"]}]}