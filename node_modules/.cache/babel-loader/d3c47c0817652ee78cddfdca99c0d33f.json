{"remainingRequest":"D:\\vue_pro\\mila-admin3\\node_modules\\babel-loader\\lib\\index.js!D:\\vue_pro\\mila-admin3\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue_pro\\mila-admin3\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\vue_pro\\mila-admin3\\src\\components\\Category\\list.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\vue_pro\\mila-admin3\\src\\components\\Category\\list.vue","mtime":1619053418045},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IEVsTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtcGx1cyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICBkaWFsb2dGb3JtVmlzaWJsZTE6IGZhbHNlLAogICAgICBmb3JtOiB7CiAgICAgICAgbmFtZTogJycKICAgICAgfSwKICAgICAgZm9ybTE6IHsKICAgICAgICBwaWQ6ICcnLAogICAgICAgIG5hbWU6ICcnCiAgICAgIH0sCiAgICAgIGZvcm1MYWJlbFdpZHRoOiAnMTIwcHgnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q2F0ZWdvcnk6IGZ1bmN0aW9uIGdldENhdGVnb3J5KCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7IC8v5byE5piO55m95YmN56uv5aaC5L2V6K6+572u6Leo5Z+fCgogICAgICB0aGlzLiRheGlvcy5nZXQoJ2h0dHA6Ly90ZXN0cy5jb20vYWRtaW4vY2F0ZWdvcnkvbGlzdHMnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vdGhlbuaWueazlemHjOmdouS4jeiDveS9v+eUqHRoaXMg5Ye95pWw6YeM6Z2i5L2/55SodGhpc+S7o+ihqOeahOaYr+WHveaVsOacrOi6q++8jOaJgOS7peaXoOazleiuv+mXruWklumDqOeahOWPmOmHjwogICAgICAgIC8v5Ye95pWw5aSW6YOo5a6a5LmJY29uc3QgdGhhdCA9IHRoaXPmnaXku6Pmm790aGlzIOaIluiAheWwhnRoZW7ov5nnp43lh73mlbDmlLnmiJDnrq3lpLTlh73mlbDkvovlpoJnZXRDYXRlZ29yeTEKICAgICAgICB0aGF0LnRhYmxlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gZ2V0Q2F0ZWdvcnkxKCl7CiAgICAvLyAJdGhpcy4kYXhpb3MuZ2V0KCdodHRwOi8vdGVzdHMuY29tL2NhdGVnb3J5JykKICAgIC8v566t5aS05Ye95pWw5LiN5Lya5Yib5bu66Ieq5bex55qEdGhpc++8jOWPquS8mue7p+aJv+S4iuWxgueahHRoaXMKICAgIC8vIAkudGhlbihyZXNwb25zZSA9PiB7CiAgICAvLyAJCWNvbnNvbGUubG9nKHJlc3BvbnNlKQogICAgLy8gCQl0aGlzLnRhYmxlRGF0YSA9IHJlc3BvbnNlLmRhdGEKICAgIC8vIAl9KQogICAgLy8gCS5jYXRjaChlcnJvciA9PiB7CiAgICAvLyAJCWNvbnNvbGUubG9nKGVycm9yKQogICAgLy8gCX0pCiAgICAvLyB9LAogICAgcmVzZXRGcm9tOiBmdW5jdGlvbiByZXNldEZyb20oKSB7CiAgICAgIC8v5YWz6Zet5ZKM5Y+W5raI5by556qX5bCGbmFtZeWtl+autemHjee9ruS4uuepugogICAgICB0aGlzLmZvcm0ubmFtZSA9ICcnLCB0aGlzLmZvcm0xLm5hbWUgPSAnJzsKICAgIH0sCiAgICAvL+aWsOWinumhtue6p+agj+ebrgogICAgYWRkVG9wQ2F0ZWdvcnk6IGZ1bmN0aW9uIGFkZFRvcENhdGVnb3J5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL2FwaS9hZG1pbi9jYXRlZ29yeS9hZGRUb3BDYXRlZ29yeScsIHsKICAgICAgICBuYW1lOiB0aGlzLmZvcm0ubmFtZQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvL+WFs+mXreW8ueeql++8jOmHjeaWsOivt+axguaVsOaNruWhq+WFhQogICAgICAgIF90aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CgogICAgICAgIF90aGlzLmdldENhdGVnb3J5KCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/liKDpmaTmoI/nm64KICAgIC8v5aaC5L2V5bCG5b2T5YmN5p2h55qEaWTkvKDpgJLov4fmnaUKICAgIGRlbGV0ZUNhdGVnb3J5OiBmdW5jdGlvbiBkZWxldGVDYXRlZ29yeShpbmRleCwgcm93KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coaW5kZXgsIHJvdyk7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruWumuWIoOmZpOivpeagj+ebruWQl++8nycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJyAvLyBjZW50ZXI6IHRydWUKCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kYXhpb3MucG9zdCgnL2FwaS9hZG1pbi9jYXRlZ29yeS9kZWxldGVDYXRlZ29yeScsIHsKICAgICAgICAgIGlkOiByb3cuaWQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDEpIHsKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMyLmdldENhdGVnb3J5KCk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgRWxNZXNzYWdlLmVycm9yKCfliKDpmaTlpLHotKUnKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvL+W+l+WIsOW9k+WJjeagj+ebrueahOeItuexu+agj+ebrmlkCiAgICBnZXRQaWQ6IGZ1bmN0aW9uIGdldFBpZChyb3cpIHsKICAgICAgdGhpcy5mb3JtMS5waWQgPSByb3cuaWQ7CiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUxID0gdHJ1ZTsKICAgIH0sCiAgICAvL+a3u+WKoOWtkOexu+agj+ebrgogICAgYWRkU29uQ2F0ZWdvcnk6IGZ1bmN0aW9uIGFkZFNvbkNhdGVnb3J5KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9hcGkvYWRtaW4vY2F0ZWdvcnkvYWRkU29uQ2F0ZWdvcnknLCB7CiAgICAgICAgcGlkOiB0aGlzLmZvcm0xLnBpZCwKICAgICAgICBuYW1lOiB0aGlzLmZvcm0xLm5hbWUKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgLy/lhbPpl63lvLnnqpfvvIzph43mlrDor7fmsYLmlbDmja7loavlhYUKICAgICAgICBfdGhpczMuZGlhbG9nRm9ybVZpc2libGUxID0gZmFsc2U7CgogICAgICAgIF90aGlzMy5nZXRDYXRlZ29yeSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgLy/ot7PovaznvJbovpHmoI/nm67lubbkvKDlj4IKICAgIHVwZGF0ZUNhdGVnb3J5OiBmdW5jdGlvbiB1cGRhdGVDYXRlZ29yeShyb3cpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJjYXRlZ29yeUVkaXQiLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBpZDogcm93LmlkLAogICAgICAgICAgbmFtZTogcm93Lm5hbWUKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0Q2F0ZWdvcnkoKTsKICB9Cn07"},{"version":3,"sources":["D:\\vue_pro\\mila-admin3\\src\\components\\Category\\list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<el-button type=\"primary\" @click=\"dialogFormVisible = true\">新增</el-button>\r\n\r\n\t<el-dialog title=\"新增顶级栏目\" v-model=\"dialogFormVisible\" @close=\"resetFrom()\">\r\n\t\t<el-form :model=\"form\">\r\n\t\t\t<el-form-item label=\"栏目名称\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t<el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t\t<template #footer>\r\n\t\t\t<span class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"addTopCategory()\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</template>\r\n\t</el-dialog>\r\n\t\r\n\t<el-dialog title=\"新增子栏目\" v-model=\"dialogFormVisible1\" @close=\"resetFrom()\">\r\n\t\t<el-form :model=\"form1\">\r\n\t\t\t<el-form-item label=\"栏目名称\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t<el-input v-model=\"form1.name\" autocomplete=\"off\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t\t<template #footer>\r\n\t\t\t<span class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"dialogFormVisible1 = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"addSonCategory()\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</template>\r\n\t</el-dialog>\r\n\r\n\t<el-table :data=\"tableData\" stripe row-key=\"id\" :tree-props=\"{children:'children'}\" style=\"width: 100%\">\r\n\t\t<el-table-column prop=\"id\" label=\"id\" width=\"180\" type=\"\">\r\n\t\t</el-table-column>\r\n\t\t<el-table-column prop=\"name\" label=\"名称\" width=\"180\">\r\n\t\t</el-table-column>\r\n\r\n\t\t<el-table-column label=\"操作\" width=\"280\">\r\n\t\t\t<template #default=\"scope\">\r\n\t\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"getPid(scope.row)\">添加子分类</el-button>\r\n\t\t\t\t<el-button type=\"warning\" size=\"mini\" @click=\"updateCategory(scope.row)\">编辑</el-button>\r\n\t\t\t\t<el-button type=\"danger\" size=\"mini\" @click=\"deleteCategory(scope.$index, scope.row)\">删除</el-button>\r\n\t\t\t</template>\r\n\t\t</el-table-column>\r\n\t</el-table>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tElMessage\r\n\t} from 'element-plus';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tdialogFormVisible: false,\r\n\t\t\t\tdialogFormVisible1: false,\r\n\t\t\t\tform: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t},\r\n\t\t\t\tform1: {\r\n\t\t\t\t\tpid:'',\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t},\r\n\t\t\t\tformLabelWidth: '120px'\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\t\t\tgetCategory() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\t//弄明白前端如何设置跨域\r\n\t\t\t\tthis.$axios.get('http://tests.com/admin/category/lists')\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t//then方法里面不能使用this 函数里面使用this代表的是函数本身，所以无法访问外部的变量\r\n\t\t\t\t\t\t//函数外部定义const that = this来代替this 或者将then这种函数改成箭头函数例如getCategory1\r\n\r\n\t\t\t\t\t\tthat.tableData = response.data\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\t// getCategory1(){\r\n\r\n\t\t\t// \tthis.$axios.get('http://tests.com/category')\r\n\t\t\t//箭头函数不会创建自己的this，只会继承上层的this\r\n\t\t\t// \t.then(response => {\r\n\r\n\t\t\t// \t\tconsole.log(response)\r\n\r\n\t\t\t// \t\tthis.tableData = response.data\r\n\r\n\t\t\t// \t})\r\n\t\t\t// \t.catch(error => {\r\n\r\n\t\t\t// \t\tconsole.log(error)\r\n\r\n\t\t\t// \t})\r\n\r\n\t\t\t// },\r\n\t\t\tresetFrom() {\r\n\t\t\t\t//关闭和取消弹窗将name字段重置为空\r\n\t\t\t\tthis.form.name = '',\r\n\t\t\t\tthis.form1.name = ''\r\n\r\n\t\t\t},\r\n\t\t\t//新增顶级栏目\r\n\t\t\taddTopCategory() {\r\n\r\n\t\t\t\tthis.$axios.post('/api/admin/category/addTopCategory', {\r\n\t\t\t\t\t\tname: this.form.name\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t//关闭弹窗，重新请求数据填充\r\n\t\t\t\t\t\tthis.dialogFormVisible = false\r\n\t\t\t\t\t\tthis.getCategory()\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t//删除栏目\r\n\t\t\t//如何将当前条的id传递过来\r\n\t\t\tdeleteCategory(index, row) {\r\n\r\n\t\t\t\tconsole.log(index, row);\r\n\r\n\t\t\t\tthis.$confirm('确定删除该栏目吗？', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t// center: true\r\n\t\t\t\t}).then(() => {\r\n\r\n\t\t\t\t\tthis.$axios.post('/api/admin/category/deleteCategory', {\r\n\r\n\t\t\t\t\t\t\tid: row.id\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(res => {\r\n\r\n\t\t\t\t\t\t\tif (res.data.code == 1) {\r\n\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\tmessage: '删除成功!'\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tthis.getCategory()\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(() => {\r\n\r\n\t\t\t\t\t\t\tElMessage.error('删除失败')\r\n\r\n\t\t\t\t\t\t})\r\n\r\n\r\n\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t\tmessage: '已取消删除'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//得到当前栏目的父类栏目id\r\n\t\t\tgetPid(row){\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.form1.pid = row.id;\r\n\t\t\t\t\r\n\t\t\t\tthis.dialogFormVisible1 = true;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//添加子类栏目\r\n\t\t\taddSonCategory(){\r\n\t\t\t\t\t\t\r\n\t\t\t\tthis.$axios.post('/api/admin/category/addSonCategory',{\r\n\t\t\t\t\t\r\n\t\t\t\t\tpid:this.form1.pid,\r\n\t\t\t\t\tname:this.form1.name\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\t\r\n\t\t\t\t\t//关闭弹窗，重新请求数据填充\r\n\t\t\t\t\tthis.dialogFormVisible1 = false\r\n\t\t\t\t\tthis.getCategory()\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//跳转编辑栏目并传参\r\n\t\t\tupdateCategory(row){\r\n\t\t\t\t\r\n\t\t\t\tthis.$router.push({name:\"categoryEdit\",query:{id:row.id,name:row.name}});\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\t\r\n\r\n\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getCategory()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.demo-form-inline {\r\n\t\tfloat: right;\r\n\t}\r\n\r\n\t.el-table__expand-icon .el-icon-arrow-right:before {\r\n\t\tcontent: \"\\e723\";\r\n\t}\r\n</style>\n"],"sourceRoot":""}]}