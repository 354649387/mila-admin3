{"remainingRequest":"D:\\vue_pro\\mila-admin3\\node_modules\\babel-loader\\lib\\index.js!D:\\vue_pro\\mila-admin3\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue_pro\\mila-admin3\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\vue_pro\\mila-admin3\\src\\components\\Admin\\list.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\vue_pro\\mila-admin3\\src\\components\\Admin\\list.vue","mtime":1619228458999},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gaW1wb3J0IHtFbE1lc3NhZ2V9IGZyb20gJ2VsZW1lbnQtcGx1cyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZEFkbWluOiBmdW5jdGlvbiBhZGRBZG1pbigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJhZG1pbkFkZCIKICAgICAgfSk7CiAgICB9LAogICAgZ2V0QWRtaW46IGZ1bmN0aW9uIGdldEFkbWluKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL2FwaS9hZG1pbi9hZG1pbi9saXN0cycpLnRoZW4oZnVuY3Rpb24gKHJlKSB7CiAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmUuZGF0YS5kYXRhOwogICAgICAgIGNvbnNvbGUubG9nKHJlLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+e8lui+kQogICAgZWRpdDogZnVuY3Rpb24gZWRpdChyb3cpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJhZG1pbkVkaXQiLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBpZDogcm93LmlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+emgeeUqAogICAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZShyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcy5wb3N0KCcvYXBpL2FkbWluL2FkbWluL2Rpc2FibGUnLCB7CiAgICAgICAgaWQ6IHJvdy5pZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZSkgewogICAgICAgIGlmIChyZS5kYXRhLmNvZGUgPT0gMSkgewogICAgICAgICAgX3RoaXMyLmdldEFkbWluKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+WQr+eUqAogICAgZW5hYmxlOiBmdW5jdGlvbiBlbmFibGUocm93KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL2FwaS9hZG1pbi9hZG1pbi9lbmFibGUnLCB7CiAgICAgICAgaWQ6IHJvdy5pZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZSkgewogICAgICAgIGlmIChyZS5kYXRhLmNvZGUgPT0gMSkgewogICAgICAgICAgX3RoaXMzLmdldEFkbWluKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+WIoOmZpOeuoeeQhuWRmAogICAgZGVsZXRlQWRtaW46IGZ1bmN0aW9uIGRlbGV0ZUFkbWluKHJvdykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruWumuWIoOmZpOivpeeuoeeQhuWRmOWQl++8nycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJyAvLyBjZW50ZXI6IHRydWUKCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC4kYXhpb3MucG9zdCgnL2FwaS9hZG1pbi9hZG1pbi9kZWxldGUnLCB7CiAgICAgICAgICBpZDogcm93LmlkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAxKSB7CiAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzNC5nZXRBZG1pbigpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsvLyBFbE1lc3NhZ2UuZXJyb3IoJ+WIoOmZpOWksei0pScpCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRBZG1pbigpOwogIH0KfTs="},{"version":3,"sources":["D:\\vue_pro\\mila-admin3\\src\\components\\Admin\\list.vue"],"names":[],"mappings":"AA4CC;AACA,eAAe;AACd,EAAA,IADc,kBACP;AACN,WAAO;AACN,MAAA,SAAS,EAAE;AADL,KAAP;AAGA,GALa;AAMd,EAAA,OAAO,EAAE;AACR,IAAA,QADQ,sBACG;AACV,WAAK,OAAL,CAAa,IAAb,CAAkB;AACjB,QAAA,IAAI,EAAE;AADW,OAAlB;AAGA,KALO;AAMR,IAAA,QANQ,sBAMG;AAAA;;AAEV,WAAK,MAAL,CAAY,IAAZ,CAAiB,wBAAjB,EACE,IADF,CACO,UAAA,EAAC,EAAK;AACX,QAAA,KAAI,CAAC,SAAL,GAAiB,EAAE,CAAC,IAAH,CAAQ,IAAzB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,EAAE,CAAC,IAAf;AAEA,OALF;AAOA,KAfO;AAgBR;AACA,IAAA,IAjBQ,gBAiBH,GAjBG,EAiBE;AAET,WAAK,OAAL,CAAa,IAAb,CAAkB;AACjB,QAAA,IAAI,EAAE,WADW;AAEjB,QAAA,KAAK,EAAE;AACN,UAAA,EAAE,EAAE,GAAG,CAAC;AADF;AAFU,OAAlB;AAOA,KA1BO;AA2BR;AACA,IAAA,OA5BQ,mBA4BA,GA5BA,EA4BK;AAAA;;AAIZ,WAAK,MAAL,CAAY,IAAZ,CAAiB,0BAAjB,EAA6C;AAC3C,QAAA,EAAE,EAAE,GAAG,CAAC;AADmC,OAA7C,EAGE,IAHF,CAGO,UAAA,EAAC,EAAK;AAEX,YAAI,EAAE,CAAC,IAAH,CAAQ,IAAR,IAAgB,CAApB,EAAuB;AAEtB,UAAA,MAAI,CAAC,QAAL;AAED;AAEA,OAXF;AAcA,KA9CO;AA+CR;AACA,IAAA,MAhDQ,kBAgDD,GAhDC,EAgDI;AAAA;;AAIX,WAAK,MAAL,CAAY,IAAZ,CAAiB,yBAAjB,EAA4C;AAC1C,QAAA,EAAE,EAAE,GAAG,CAAC;AADkC,OAA5C,EAGE,IAHF,CAGO,UAAA,EAAC,EAAK;AAEX,YAAI,EAAE,CAAC,IAAH,CAAQ,IAAR,IAAgB,CAApB,EAAuB;AAEtB,UAAA,MAAI,CAAC,QAAL;AAED;AAEA,OAXF;AAcA,KAlEO;AAmER;AACA,IAAA,WApEQ,uBAoEI,GApEJ,EAoES;AAAA;;AAEhB,WAAK,QAAL,CAAc,YAAd,EAA4B,IAA5B,EAAkC;AACjC,QAAA,iBAAiB,EAAE,IADc;AAEjC,QAAA,gBAAgB,EAAE,IAFe;AAGjC,QAAA,IAAI,EAAE,SAH2B,CAIjC;;AAJiC,OAAlC,EAKG,IALH,CAKQ,YAAM;AAEb,QAAA,MAAI,CAAC,MAAL,CAAY,IAAZ,CAAiB,yBAAjB,EAA4C;AAE1C,UAAA,EAAE,EAAE,GAAG,CAAC;AAFkC,SAA5C,EAKE,IALF,CAKO,UAAA,GAAE,EAAK;AAEZ,cAAI,GAAG,CAAC,IAAJ,CAAS,IAAT,IAAiB,CAArB,EAAwB;AAEvB,YAAA,MAAI,CAAC,QAAL,CAAc;AACb,cAAA,IAAI,EAAE,SADO;AAEb,cAAA,OAAO,EAAE;AAFI,aAAd;;AAKA,YAAA,MAAI,CAAC,QAAL;AAED;AAEA,SAlBF,EAmBE,KAnBF,CAmBQ,YAAM,CAEZ;AAEA,SAvBF;AA2BA,OAlCD,EAkCG,KAlCH,CAkCS,YAAM;AACd,QAAA,MAAI,CAAC,QAAL,CAAc;AACb,UAAA,IAAI,EAAE,SADO;AAEb,UAAA,OAAO,EAAE;AAFI,SAAd;AAIA,OAvCD;AAyCD;AA/GQ,GANK;AAuHd,EAAA,OAvHc,qBAuHJ;AACT,SAAK,QAAL;AACD;AAzHc,CAAf","sourcesContent":["<template>\r\n\t<el-button type=\"primary\" @click=\"addAdmin\">新增管理员</el-button>\r\n\t<el-table :data=\"tableData\" stripe style=\"width: 100%\">\r\n\t\t<el-table-column prop=\"id\" label=\"ID\" width=\"120\">\r\n\t\t</el-table-column>\r\n\t\t<el-table-column prop=\"username\" label=\"用户名\" width=\"120\">\r\n\t\t</el-table-column>\r\n\t\t<el-table-column prop=\"status\" label=\"状态\" width=\"120\">\r\n\t\t\t\r\n\t\t\t<template #default=\"scope\">\r\n\t\t\t\t<el-tag v-if=\"scope.row.status == 0\" effect=\"success\">\r\n\t\t\t\t\t正常\r\n\t\t\t\t</el-tag>\r\n\t\t\t\t<el-tag v-if=\"scope.row.status == 2\" effect=\"danger\">\r\n\t\t\t\t\t禁用\r\n\t\t\t\t</el-tag>\r\n\t\t\t</template>\r\n\t\t\t\r\n\t\t</el-table-column>\r\n\r\n\t\t\r\n\t\t<el-table-column prop=\"role\" label=\"角色\" width=\"120\">\r\n\t\t</el-table-column>\r\n\t\t<el-table-column prop=\"nickname\" label=\"昵称\" width=\"120\">\r\n\t\t</el-table-column>\r\n\t\t<el-table-column prop=\"created_at\" label=\"创建时间\" width=\"200\">\r\n\t\t</el-table-column>\r\n\t\t<el-table-column prop=\"last_login_time\" label=\"上次登陆时间\" width=\"200\">\r\n\t\t</el-table-column>\r\n\t\t<el-table-column label=\"操作\">\r\n\t\t\t<template #default=\"scope\">\r\n\t\t\t\t<el-button size=\"small\" type=\"primary\" @click=\"edit(scope.row)\">编辑</el-button>\r\n\t\t\t\t<el-button v-if=\"scope.row.status == 0\" size=\"small\" type=\"warning\" @click=\"disable(scope.row)\">禁用\r\n\t\t\t\t</el-button>\r\n\t\t\t\t<el-button v-if=\"scope.row.status == 2\" size=\"small\" type=\"warning\" @click=\"enable(scope.row)\">启用\r\n\t\t\t\t</el-button>\r\n\t\t\t\t<el-button size=\"small\" type=\"danger\" @click=\"deleteAdmin(scope.row)\">删除</el-button>\r\n\t\t\t</template>\r\n\t\t</el-table-column>\r\n\t</el-table>\r\n\r\n</template>\r\n\r\n<script>\r\n\t// import {ElMessage} from 'element-plus';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttableData: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\taddAdmin() {\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname: \"adminAdd\"\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetAdmin() {\r\n\r\n\t\t\t\tthis.$axios.post('/api/admin/admin/lists')\r\n\t\t\t\t\t.then(re => {\r\n\t\t\t\t\t\tthis.tableData = re.data.data;\r\n\t\t\t\t\t\tconsole.log(re.data)\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\t//编辑\r\n\t\t\tedit(row) {\r\n\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname: \"adminEdit\",\r\n\t\t\t\t\tquery: {\r\n\t\t\t\t\t\tid: row.id\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\t//禁用\r\n\t\t\tdisable(row) {\r\n\r\n\r\n\r\n\t\t\t\tthis.$axios.post('/api/admin/admin/disable', {\r\n\t\t\t\t\t\tid: row.id\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(re => {\r\n\r\n\t\t\t\t\t\tif (re.data.code == 1) {\r\n\r\n\t\t\t\t\t\t\tthis.getAdmin();\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\r\n\t\t\t},\r\n\t\t\t//启用\r\n\t\t\tenable(row) {\r\n\r\n\r\n\r\n\t\t\t\tthis.$axios.post('/api/admin/admin/enable', {\r\n\t\t\t\t\t\tid: row.id\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(re => {\r\n\r\n\t\t\t\t\t\tif (re.data.code == 1) {\r\n\r\n\t\t\t\t\t\t\tthis.getAdmin();\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\r\n\t\t\t},\r\n\t\t\t//删除管理员\r\n\t\t\tdeleteAdmin(row) {\r\n\r\n\t\t\t\tthis.$confirm('确定删除该管理员吗？', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t// center: true\r\n\t\t\t\t}).then(() => {\r\n\r\n\t\t\t\t\tthis.$axios.post('/api/admin/admin/delete', {\r\n\r\n\t\t\t\t\t\t\tid: row.id\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(res => {\r\n\r\n\t\t\t\t\t\t\tif (res.data.code == 1) {\r\n\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\tmessage: '删除成功!'\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tthis.getAdmin()\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(() => {\r\n\r\n\t\t\t\t\t\t\t// ElMessage.error('删除失败')\r\n\r\n\t\t\t\t\t\t})\r\n\r\n\r\n\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t\tmessage: '已取消删除'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getAdmin();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n"],"sourceRoot":""}]}