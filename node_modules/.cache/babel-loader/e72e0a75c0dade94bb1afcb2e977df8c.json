{"remainingRequest":"D:\\vue_pro\\mila-admin3\\node_modules\\babel-loader\\lib\\index.js!D:\\vue_pro\\mila-admin3\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue_pro\\mila-admin3\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\vue_pro\\mila-admin3\\src\\components\\Article\\add.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\vue_pro\\mila-admin3\\src\\components\\Article\\add.vue","mtime":1619602857587},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_pro\\mila-admin3\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgRWxNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC1wbHVzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhcnRpY2xlOiB7CiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGltZzogJycsCiAgICAgICAga2V5d29yZHM6ICcnLAogICAgICAgIGRlc2M6ICcnLAogICAgICAgIGNhdGVnb3J5czogJycKICAgICAgfSwKICAgICAgY2F0ZWdvcnk6IFtdLAogICAgICBjb250ZW50OiAnJywKICAgICAgbXlDb25maWc6IHsKICAgICAgICAvLyDnvJbovpHlmajkuI3oh6rliqjooqvlhoXlrrnmkpHpq5gKICAgICAgICBhdXRvSGVpZ2h0RW5hYmxlZDogZmFsc2UsCiAgICAgICAgLy8g5Yid5aeL5a655Zmo6auY5bqmCiAgICAgICAgaW5pdGlhbEZyYW1lSGVpZ2h0OiAzNDAsCiAgICAgICAgLy8g5Yid5aeL5a655Zmo5a695bqmCiAgICAgICAgaW5pdGlhbEZyYW1lV2lkdGg6ICcxMDAlJywKICAgICAgICBVRURJVE9SX0hPTUVfVVJMOiAnL1VFZGl0b3IvJywKICAgICAgICBzZXJ2ZXJVcmw6ICcvYXBpL2FkbWluL3VwbG9hZC91ZWRpdG9yVXBsb2FkJwogICAgICB9LAogICAgICBpbWdVcmw6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL2FwaS9hZG1pbi9hcnRpY2xlL2FkZCcsIHsKICAgICAgICB0aXRsZTogdGhpcy5hcnRpY2xlLnRpdGxlLAogICAgICAgIGltZzogdGhpcy5pbWdVcmwsCiAgICAgICAga2V5d29yZDogdGhpcy5hcnRpY2xlLmtleXdvcmRzLAogICAgICAgIGRlc2M6IHRoaXMuYXJ0aWNsZS5kZXNjLAogICAgICAgIGNhdGVnb3J5X2lkOiB0aGlzLmFydGljbGUuY2F0ZWdvcnlzLAogICAgICAgIGNvbnRlbnQ6IHRoaXMuY29udGVudAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZSkgewogICAgICAgIGlmIChyZS5kYXRhLmNvZGUgPT0gMSkgewogICAgICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoJ+a3u+WKoOaWh+eroOaIkOWKnycpOwoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICJhcnRpY2xlTGlzdCIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/lm77niYfkuIrkvKDmiJDlip/vvIzkvKDlm57ot6/lvoQKICAgIGhhbmRsZUF2YXRhclN1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Y2Nlc3MocmVzKSB7CiAgICAgIHRoaXMuaW1nVXJsID0gcmVzLmRhdGEuaW1nX3VybDsKICAgICAgdGhpcy5hcnRpY2xlLmltZyA9IHRoaXMuaW1nVXJsOwogICAgfSwKICAgIGJlZm9yZUF2YXRhclVwbG9hZDogZnVuY3Rpb24gYmVmb3JlQXZhdGFyVXBsb2FkKGZpbGUpIHsKICAgICAgdmFyIGlzVHlwZTEgPSBmaWxlLnR5cGUgPT09ICdpbWFnZS9wbmcnIHx8ICdpbWFnZS9qcGcnIHx8ICdpbWFnZS9qaWYnIHx8ICdpbWFnZS9wanBlZycgfHwgJ2ltYWdlL2JtcCcgfHwgJ2ltYWdlL3gtcG5nJzsKICAgICAgdmFyIGlzTHQyTSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgMjsKCiAgICAgIGlmICghaXNUeXBlMSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WbvueJh+agvOW8j+S4jeato+ehriEnKTsKICAgICAgfQoKICAgICAgaWYgKCFpc0x0Mk0pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflm77niYflpKflsI/kuI3og73otoXov4cgMk1CIScpOwogICAgICB9CgogICAgICByZXR1cm4gaXNUeXBlMSAmJiBpc0x0Mk07CiAgICB9LAogICAgLy/ojrflj5bmoI/nm67liJfooagKICAgIGdldENhdGVnb3J5OiBmdW5jdGlvbiBnZXRDYXRlZ29yeSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvcy5wb3N0KCcvYXBpL2FkbWluL2NhdGVnb3J5L2NhdGVnb3J5cycpLnRoZW4oZnVuY3Rpb24gKHJlKSB7CiAgICAgICAgaWYgKHJlLmRhdGEuY29kZSA9PT0gMSkgewogICAgICAgICAgX3RoaXMyLmNhdGVnb3J5ID0gcmUuZGF0YS5kYXRhOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRDYXRlZ29yeSgpOwogIH0KfTs="},{"version":3,"sources":["D:\\vue_pro\\mila-admin3\\src\\components\\Article\\add.vue"],"names":[],"mappings":"AAyDC,SAAQ,SAAR,QAAwB,cAAxB;AACA,eAAe;AACd,EAAA,IADc,kBACP;AACN,WAAO;AACN,MAAA,OAAO,EAAE;AACR,QAAA,KAAK,EAAE,EADC;AAER,QAAA,GAAG,EAAE,EAFG;AAGR,QAAA,QAAQ,EAAE,EAHF;AAIR,QAAA,IAAI,EAAE,EAJE;AAKR,QAAA,SAAS,EAAE;AALH,OADH;AASN,MAAA,QAAQ,EAAE,EATJ;AAUN,MAAA,OAAO,EAAE,EAVH;AAWN,MAAA,QAAQ,EAAE;AACT;AACA,QAAA,iBAAiB,EAAE,KAFV;AAGT;AACA,QAAA,kBAAkB,EAAE,GAJX;AAKT;AACA,QAAA,iBAAiB,EAAE,MANV;AAOT,QAAA,gBAAgB,EAAE,WAPT;AAQT,QAAA,SAAS,EAAE;AARF,OAXJ;AAqBN,MAAA,MAAM,EAAC;AArBD,KAAP;AAuBA,GAzBa;AA0Bd,EAAA,OAAO,EAAE;AACR,IAAA,QADQ,sBACG;AAAA;;AAEV,WAAK,MAAL,CAAY,IAAZ,CAAiB,wBAAjB,EAA0C;AACzC,QAAA,KAAK,EAAC,KAAK,OAAL,CAAa,KADsB;AAEzC,QAAA,GAAG,EAAC,KAAK,MAFgC;AAGzC,QAAA,OAAO,EAAC,KAAK,OAAL,CAAa,QAHoB;AAIzC,QAAA,IAAI,EAAC,KAAK,OAAL,CAAa,IAJuB;AAKzC,QAAA,WAAW,EAAC,KAAK,OAAL,CAAa,SALgB;AAMzC,QAAA,OAAO,EAAC,KAAK;AAN4B,OAA1C,EAOG,IAPH,CAOQ,UAAA,EAAC,EAAK;AAEb,YAAG,EAAE,CAAC,IAAH,CAAQ,IAAR,IAAgB,CAAnB,EAAqB;AAEpB,UAAA,SAAS,CAAC,OAAV,CAAkB,QAAlB;;AAEA,UAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAC,YAAA,IAAI,EAAC;AAAN,WAAlB;AAED;AAEA,OAjBD;AAoBA,KAvBO;AAwBR;AACA,IAAA,mBAzBQ,+BAyBY,GAzBZ,EAyBiB;AAExB,WAAK,MAAL,GAAc,GAAG,CAAC,IAAJ,CAAS,OAAvB;AAGA,WAAK,OAAL,CAAa,GAAb,GAAmB,KAAK,MAAxB;AAEA,KAhCO;AAiCR,IAAA,kBAjCQ,8BAiCW,IAjCX,EAiCiB;AACxB,UAAM,OAAM,GAAI,IAAI,CAAC,IAAL,KAAc,WAAd,IAA6B,WAA7B,IAA4C,WAA5C,IAA2D,aAA3D,IAA4E,WAA5E,IAA2F,aAA3G;AACA,UAAM,MAAK,GAAI,IAAI,CAAC,IAAL,GAAY,IAAZ,GAAmB,IAAnB,GAA0B,CAAzC;;AAEA,UAAI,CAAC,OAAL,EAAc;AACb,aAAK,QAAL,CAAc,KAAd,CAAoB,UAApB;AACD;;AACA,UAAI,CAAC,MAAL,EAAa;AACZ,aAAK,QAAL,CAAc,KAAd,CAAoB,eAApB;AACD;;AACA,aAAO,OAAM,IAAK,MAAlB;AACA,KA5CO;AA6CR;AACA,IAAA,WA9CQ,yBA8CK;AAAA;;AAEZ,WAAK,MAAL,CAAY,IAAZ,CAAiB,+BAAjB,EACC,IADD,CACM,UAAA,EAAC,EAAK;AAEX,YAAG,EAAE,CAAC,IAAH,CAAQ,IAAR,KAAiB,CAApB,EAAsB;AAErB,UAAA,MAAI,CAAC,QAAL,GAAgB,EAAE,CAAC,IAAH,CAAQ,IAAxB;AAED;AAEA,OATD;AAWD;AA3DQ,GA1BK;AAuFd,EAAA,OAvFc,qBAuFJ;AAET,SAAK,WAAL;AAED;AA3Fc,CAAf","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-form ref=\"form\" :model=\"article\" label-width=\"80px\">\r\n\t\t\t<div style=\"width: 60%;float: left;box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)\">\r\n\t\t\t\t<el-form-item label=\"所属栏目\">\r\n\t\t\t\t\t<el-select v-model=\"article.categorys\" placeholder=\"选择文章所属栏目\">\r\n\t\t\t\t\t\t<el-option v-for=\"art in category\" :key=\"art.id\" :label=\"art.name\" :value=\"art.id\" v-html=\"art.name\">\r\n\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"标题\">\r\n\t\t\t\t\t<el-input v-model=\"article.title\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"关键词\">\r\n\t\t\t\t\t<el-input v-model=\"article.keywords\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"描述\">\r\n\t\t\t\t\t<el-input v-model=\"article.desc\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"内容\">\r\n\t\t\t\t\t<vue-ueditor-wrap v-model=\"content\" :config=\"myConfig\" editor-id=\"editor-id\"></vue-ueditor-wrap>\r\n\t\t\t\t</el-form-item>\r\n\r\n\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tstyle=\"width: 38%;float: right;margin-left:2%;box-shadow: 0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)\">\r\n\r\n\r\n\t\t\t\t<el-form-item label=\"缩略图\">\r\n\t\t\t\t\t<el-upload class=\"avatar-uploader\" action=\"/api/admin/upload/elementUploadImg\"\r\n\t\t\t\t\t\t:show-file-list=\"false\" :on-success=\"handleAvatarSuccess\" :before-upload=\"beforeAvatarUpload\">\r\n\t\t\t\t\t\t<img v-if=\"article.img\" :src=\"article.img\" class=\"avatar\">\r\n\t\t\t\t\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n\t\t\t\t\t</el-upload>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item>\r\n\r\n\t\t\t\t\t<el-button>取消</el-button>\r\n\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"onSubmit\">立即创建</el-button>\r\n\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</div>\r\n\t\t</el-form>\r\n\r\n\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {ElMessage} from 'element-plus';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tarticle: {\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\timg: '',\r\n\t\t\t\t\tkeywords: '',\r\n\t\t\t\t\tdesc: '',\r\n\t\t\t\t\tcategorys: '',\r\n\r\n\t\t\t\t},\r\n\t\t\t\tcategory: [],\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tmyConfig: {\r\n\t\t\t\t\t// 编辑器不自动被内容撑高\r\n\t\t\t\t\tautoHeightEnabled: false,\r\n\t\t\t\t\t// 初始容器高度\r\n\t\t\t\t\tinitialFrameHeight: 340,\r\n\t\t\t\t\t// 初始容器宽度\r\n\t\t\t\t\tinitialFrameWidth: '100%',\r\n\t\t\t\t\tUEDITOR_HOME_URL: '/UEditor/',\r\n\t\t\t\t\tserverUrl: '/api/admin/upload/ueditorUpload'\r\n\t\t\t\t},\r\n\t\t\t\timgUrl:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonSubmit() {\r\n\t\t\t\t\r\n\t\t\t\tthis.$axios.post('/api/admin/article/add',{\r\n\t\t\t\t\ttitle:this.article.title,\r\n\t\t\t\t\timg:this.imgUrl,\r\n\t\t\t\t\tkeyword:this.article.keywords,\r\n\t\t\t\t\tdesc:this.article.desc,\r\n\t\t\t\t\tcategory_id:this.article.categorys,\r\n\t\t\t\t\tcontent:this.content,\r\n\t\t\t\t}).then(re => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(re.data.code == 1){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tElMessage.success('添加文章成功');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.$router.push({name:\"articleList\"});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t},\r\n\t\t\t//图片上传成功，传回路径\r\n\t\t\thandleAvatarSuccess(res) {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.imgUrl = res.data.img_url;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.article.img = this.imgUrl;\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tbeforeAvatarUpload(file) {\r\n\t\t\t\tconst isType1 = file.type === 'image/png' || 'image/jpg' || 'image/jif' || 'image/pjpeg' || 'image/bmp' || 'image/x-png';\r\n\t\t\t\tconst isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n\t\t\t\tif (!isType1) {\r\n\t\t\t\t\tthis.$message.error('图片格式不正确!');\r\n\t\t\t\t}\r\n\t\t\t\tif (!isLt2M) {\r\n\t\t\t\t\tthis.$message.error('图片大小不能超过 2MB!');\r\n\t\t\t\t}\r\n\t\t\t\treturn isType1 && isLt2M;\r\n\t\t\t},\r\n\t\t\t//获取栏目列表\r\n\t\t\tgetCategory(){\r\n\t\t\t\t\r\n\t\t\t\tthis.$axios.post('/api/admin/category/categorys')\r\n\t\t\t\t.then(re => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(re.data.code === 1){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.category = re.data.data;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t\r\n\t\t\tthis.getCategory();\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.avatar-uploader .el-upload {\r\n\t\tborder: 1px dashed #d9d9d9;\r\n\t\tborder-radius: 6px;\r\n\t\tcursor: pointer;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.avatar-uploader .el-upload:hover {\r\n\t\tborder-color: #409EFF;\r\n\t}\r\n\r\n\t.avatar-uploader-icon {\r\n\t\tfont-size: 28px;\r\n\t\tcolor: #8c939d;\r\n\t\twidth: 178px;\r\n\t\theight: 178px;\r\n\t\tline-height: 178px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.avatar {\r\n\t\twidth: 178px;\r\n\t\theight: 178px;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t#editor-id {\r\n\r\n\t\tline-height: 1;\r\n\r\n\t}\r\n</style>\n"],"sourceRoot":""}]}